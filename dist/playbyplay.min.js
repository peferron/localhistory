!function(r,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(r.playbyplay={})}(this,function(r){"use strict";function e(){if(!h)throw new Error("localStorage is not supported");if(!y)throw new Error("JSON is not supported");if(!g)throw new Error("Array.isArray is not supported")}function n(r){var e=void 0;try{e=u()}catch(n){e=[]}e.length&&t(r,e[e.length-1])||(e.push(r),o(e))}function t(r,e){return JSON.stringify(r)===JSON.stringify(e)}function o(r){for(r.length>v&&r.splice(0,r.length-v);;){var e=JSON.stringify(r);if(e.length>w){if(r.length<2)throw new Error("Could not save run of length "+e.length+", the maximum length is "+w);a(r)}else try{return void(localStorage[p]=e)}catch(n){if(i(n)){if(r.length<2)throw new Error("Could not save run of length "+e.length+", exceeds localStorage quota");a(r);continue}throw n}}}function a(r){r.splice(0,Math.ceil(r.length/2))}function i(r){return r&&(22===r.code||1014===r.code&&"NS_ERROR_DOM_QUOTA_REACHED"===r.name)}function u(){var r=localStorage[p];if(!r)return[];var e=JSON.parse(r);if(!Array.isArray(e))throw new Error("Loaded runs are not an Array");return e}function l(){localStorage.removeItem(p)}function c(r,n){setTimeout(function(){try{e(),d.save(r),n(null)}catch(t){n(t)}},0)}function f(r){try{e();var n=d.load();r(null,n)}catch(t){r(t)}}function s(r){try{e(),d.clear(),r(null)}catch(n){r(n)}}var h=function(){var r="playbyplay_support_Vo8yTd6aLS$A8huo9$e7",e=Math.random()+"";try{if(localStorage[r]=e,localStorage[r]!==e)return!1}catch(n){return!1}return!0}(),y="undefined"!=typeof window&&"JSON"in window&&"parse"in JSON&&"stringify"in JSON,g="isArray"in Array,d=Object.defineProperties({},{save:{get:function(){return n},configurable:!0,enumerable:!0},load:{get:function(){return u},configurable:!0,enumerable:!0},clear:{get:function(){return l},configurable:!0,enumerable:!0}}),p="playbyplay_runs_A*O%y21#Q1WSh^f09YO!",S=5e4,w=8*S/16,v=200;r.save=c,r.load=f,r.clear=s});
//# sourceMappingURL=playbyplay.min.js.map